<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vokabeltrainer</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 20px;
            width: 100%;
            max-width: 800px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }
        h2 {
            color: #3498db;
            margin-top: 10px;
            margin-bottom: 15px;
        }
        /* Tab Styles */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            transition: all 0.3s ease;
        }
        .tab.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        .tab:hover:not(.active) {
            background-color: #e0e0e0;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        /* Vocabulary Box Styles */
        .vocab-box-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .vocab-box {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
            height: 180px;
            display: flex;
            flex-direction: column;
        }
        .vocab-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        .vocab-box-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        .vocab-box-info {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        .vocab-box-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            overflow: hidden;
            flex-grow: 1;
        }
        .vocab-preview-item {
            background-color: #e9f7fe;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 0.85rem;
            white-space: nowrap;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        /* Study Mode Styles */
        .vocab-list {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .vocab-list th {
            background-color: #3498db;
            color: white;
            text-align: left;
            padding: 12px 15px;
        }
        .vocab-list tr {
            border-bottom: 1px solid #ddd;
            transition: background-color 0.3s;
        }
        .vocab-list tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .vocab-list tr:hover {
            background-color: #e9f7fe;
        }
        .vocab-list td {
            padding: 12px 15px;
            vertical-align: middle;
        }
        .vocab-list .emoji-cell {
            font-size: 1.8rem;
            text-align: center;
            width: 70px;
        }
        /* Test Mode Styles */
        .instructions {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .quiz-container {
            margin-bottom: 20px;
        }
        .vocab-item {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        .vocab-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        .vocab-question {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        .emoji {
            font-size: 1.8rem;
            margin-right: 15px;
            min-width: 40px;
            text-align: center;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 4px rgba(52, 152, 219, 0.5);
        }
        .feedback {
            margin-top: 8px;
            min-height: 20px;
            color: #2ecc71;
            font-weight: bold;
        }
        .wrong {
            color: #e74c3c;
        }
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        #check-answers {
            background-color: #2ecc71;
        }
        #check-answers:hover {
            background-color: #27ae60;
        }
        #reset {
            background-color: #e74c3c;
        }
        #reset:hover {
            background-color: #c0392b;
        }
        .results {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        .score {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }
        .toggle-btn {
            display: block;
            margin: 20px auto;
            background-color: #9b59b6;
        }
        .toggle-btn:hover {
            background-color: #8e44ad;
        }
        #mode-indicator {
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            color: #9b59b6;
        }
        /* Search input for study mode */
        .search-container {
            margin-bottom: 15px;
        }
        #search-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        /* Direction toggle for study mode */
        .direction-toggle {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .direction-btn {
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .direction-btn.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
        /* Box header/title area */
        .box-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .box-header h2 {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container" id="main-container">
        <h1>Vokabeltrainer</h1>
        
        <!-- Initial Vocabulary Box Selection View -->
        <div id="vocab-boxes-view" class="active">
            <h2>Wähle eine Vokabelbox</h2>
            <div class="vocab-box-container" id="vocab-box-container">
                <!-- Vocabulary boxes will be inserted here via JavaScript -->
            </div>
        </div>
        
        <!-- Vocabulary Practice View (hidden initially) -->
        <div id="vocab-practice-view" style="display: none;">
            <div class="box-header">
                <a class="back-link" id="back-to-boxes">← Zurück zu Vokabelboxen</a>
                <h2 id="current-box-title">Vokabelbox</h2>
            </div>
            
            <div class="tabs">
                <div class="tab active" id="study-tab">Lernen</div>
                <div class="tab" id="test-tab">Test</div>
            </div>
            
            <!-- Study Mode Tab -->
            <div class="tab-content active" id="study-content">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Suche nach Vokabeln...">
                </div>
                
                <div class="direction-toggle">
                    <div class="direction-btn active" id="en-de-btn">Englisch → Deutsch</div>
                    <div class="direction-btn" id="de-en-btn">Deutsch → Englisch</div>
                </div>
                
                <table class="vocab-list" id="vocab-table">
                    <thead>
                        <tr>
                            <th>Emoji</th>
                            <th id="first-lang-header">Englisch</th>
                            <th id="second-lang-header">Deutsch</th>
                        </tr>
                    </thead>
                    <tbody id="vocab-list-body">
                        <!-- Vocabulary list items will be inserted here via JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <!-- Test Mode Tab -->
            <div class="tab-content" id="test-content">
                <div class="instructions">
                    <p>Übersetze die folgenden Vokabeln in die jeweils andere Sprache. Die Emojis dienen als visuelle Gedächtnisstütze.</p>
                    <p id="mode-indicator">Modus: Englisch → Deutsch</p>
                </div>
                
                <button id="toggle-mode" class="toggle-btn">Richtung umschalten</button>
                
                <div class="quiz-container" id="quiz">
                    <!-- Vocabulary items will be inserted here via JavaScript -->
                </div>
                
                <div class="buttons">
                    <button id="check-answers">Antworten prüfen</button>
                    <button id="reset">Zurücksetzen</button>
                </div>
                
                <div class="results" id="results">
                    <p>Dein Ergebnis:</p>
                    <p class="score" id="score">0/0</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Multiple vocabulary sets - easily extendable
        const vocabularySets = [
            {
                id: "business-english",
                title: "🤑 Business English",
                description: "17 wichtige Vokabeln für Business English",
                vocabularyData: [
                    { english: "demeanour", german: "Verhalten", emoji: "🧍" },
                    { english: "speak softly", german: "leise sprechen", emoji: "🤫" },
                    { english: "overt", german: "offen, offenkundig", emoji: "👁️" },
                    { english: "credible", german: "glaubwürdig", emoji: "✅" },
                    { english: "insincere", german: "unaufrichtig", emoji: "🎭" },
                    { english: "diffuse", german: "zerstreuen", emoji: "💨" },
                    { english: "tension", german: "Spannung", emoji: "⚡" },
                    { english: "delay", german: "Verzögerung", emoji: "⏳" },
                    { english: "interminable", german: "endlos", emoji: "♾️" },
                    { english: "be divided", german: "sich uneins sein", emoji: "🧩" },
                    { english: "adjusted", german: "angepasst", emoji: "🔧" },
                    { english: "harsh", german: "hart", emoji: "🪨" },
                    { english: "cut-to-the-quick", german: "verletzt", emoji: "💔" },
                    { english: "resolve", german: "auflösen", emoji: "🔍" },
                    { english: "inconvenient", german: "unangenehm", emoji: "😖" },
                    { english: "wrap", german: "wickeln", emoji: "🎁" },
                    { english: "sparingly", german: "sparsam", emoji: "💰" }
                ]
            },
            {
                id: "travel-vocabulary",
                title: "Reisevokabeln",
                description: "10 nützliche Vokabeln für Reisen",
                vocabularyData: [
                    { english: "accommodation", german: "Unterkunft", emoji: "🏨" },
                    { english: "itinerary", german: "Reiseplan", emoji: "🗺️" },
                    { english: "luggage", german: "Gepäck", emoji: "🧳" },
                    { english: "destination", german: "Reiseziel", emoji: "🏝️" },
                    { english: "departure", german: "Abfahrt", emoji: "🚪" },
                    { english: "arrival", german: "Ankunft", emoji: "🛬" },
                    { english: "reservation", german: "Reservierung", emoji: "📝" },
                    { english: "sightseeing", german: "Besichtigung", emoji: "🏛️" },
                    { english: "souvenir", german: "Andenken", emoji: "🎁" },
                    { english: "passport", german: "Reisepass", emoji: "📔" }
                ]
            },
            {
                id: "food-vocabulary",
                title: "Essen & Trinken",
                description: "12 Vokabeln zum Thema Essen",
                vocabularyData: [
                    { english: "delicious", german: "köstlich", emoji: "😋" },
                    { english: "appetizer", german: "Vorspeise", emoji: "🥗" },
                    { english: "main course", german: "Hauptgericht", emoji: "🍽️" },
                    { english: "dessert", german: "Nachspeise", emoji: "🍰" },
                    { english: "recipe", german: "Rezept", emoji: "📝" },
                    { english: "ingredients", german: "Zutaten", emoji: "🧂" },
                    { english: "seasoning", german: "Gewürz", emoji: "🌶️" },
                    { english: "vegetarian", german: "vegetarisch", emoji: "🥦" },
                    { english: "beverage", german: "Getränk", emoji: "🥤" },
                    { english: "cuisine", german: "Küche", emoji: "🍳" },
                    { english: "flavor", german: "Geschmack", emoji: "👅" },
                    { english: "spicy", german: "scharf", emoji: "🔥" }
                ]
            }
        ];

        // Current variables
        let currentVocabSet = null;
        let englishToGerman = true; // For test mode
        let studyEnglishToGerman = true; // For study mode

        // DOM elements for views
        const vocabBoxesView = document.getElementById('vocab-boxes-view');
        const vocabPracticeView = document.getElementById('vocab-practice-view');
        const backToBoxesLink = document.getElementById('back-to-boxes');
        const currentBoxTitle = document.getElementById('current-box-title');
        const vocabBoxContainer = document.getElementById('vocab-box-container');

        // DOM elements for tabs
        const studyTab = document.getElementById('study-tab');
        const testTab = document.getElementById('test-tab');
        const studyContent = document.getElementById('study-content');
        const testContent = document.getElementById('test-content');

        // DOM elements for test mode
        const quizContainer = document.getElementById('quiz');
        const checkButton = document.getElementById('check-answers');
        const resetButton = document.getElementById('reset');
        const resultsDiv = document.getElementById('results');
        const scoreDisplay = document.getElementById('score');
        const toggleButton = document.getElementById('toggle-mode');
        const modeIndicator = document.getElementById('mode-indicator');

        // DOM elements for study mode
        const vocabListBody = document.getElementById('vocab-list-body');
        const searchInput = document.getElementById('search-input');
        const enDeBtn = document.getElementById('en-de-btn');
        const deEnBtn = document.getElementById('de-en-btn');
        const firstLangHeader = document.getElementById('first-lang-header');
        const secondLangHeader = document.getElementById('second-lang-header');

        // Initialize vocabulary boxes
        function initVocabBoxes() {
            vocabBoxContainer.innerHTML = '';
            
            vocabularySets.forEach(set => {
                const boxElement = document.createElement('div');
                boxElement.className = 'vocab-box';
                boxElement.setAttribute('data-id', set.id);
                
                const titleElement = document.createElement('div');
                titleElement.className = 'vocab-box-title';
                titleElement.textContent = set.title;
                
                const infoElement = document.createElement('div');
                infoElement.className = 'vocab-box-info';
                infoElement.textContent = set.description;
                
                const previewElement = document.createElement('div');
                previewElement.className = 'vocab-box-preview';
                
                // Add a few preview vocabulary items
                const previewItems = set.vocabularyData.slice(0, 3);
                previewItems.forEach(item => {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'vocab-preview-item';
                    previewItem.textContent = `${item.emoji} ${item.english}`;
                    previewElement.appendChild(previewItem);
                });
                
                boxElement.appendChild(titleElement);
                boxElement.appendChild(infoElement);
                boxElement.appendChild(previewElement);
                
                // Click event to load this vocab set
                boxElement.addEventListener('click', () => {
                    loadVocabSet(set);
                });
                
                vocabBoxContainer.appendChild(boxElement);
            });
        }

        // Load vocabulary set and switch to practice view
        function loadVocabSet(set) {
            currentVocabSet = set;
            currentBoxTitle.textContent = set.title;
            
            // Switch views
            vocabBoxesView.style.display = 'none';
            vocabPracticeView.style.display = 'block';
            
            // Initialize study and test modes with the current vocab set
            populateVocabList();
            createQuiz();
        }

        // Back button logic
        backToBoxesLink.addEventListener('click', () => {
            vocabPracticeView.style.display = 'none';
            vocabBoxesView.style.display = 'block';
        });

        // Tab switching logic
        studyTab.addEventListener('click', function() {
            studyTab.classList.add('active');
            testTab.classList.remove('active');
            studyContent.classList.add('active');
            testContent.classList.remove('active');
        });

        testTab.addEventListener('click', function() {
            testTab.classList.add('active');
            studyTab.classList.remove('active');
            testContent.classList.add('active');
            studyContent.classList.remove('active');
        });

        // Initialize study mode
        function initStudyMode() {
            // Search functionality
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                populateVocabList(searchTerm);
            });
            
            // Direction toggle for study mode
            enDeBtn.addEventListener('click', function() {
                if (!studyEnglishToGerman) {
                    studyEnglishToGerman = true;
                    enDeBtn.classList.add('active');
                    deEnBtn.classList.remove('active');
                    firstLangHeader.textContent = 'Englisch';
                    secondLangHeader.textContent = 'Deutsch';
                    populateVocabList(searchInput.value.toLowerCase());
                }
            });
            
            deEnBtn.addEventListener('click', function() {
                if (studyEnglishToGerman) {
                    studyEnglishToGerman = false;
                    deEnBtn.classList.add('active');
                    enDeBtn.classList.remove('active');
                    firstLangHeader.textContent = 'Deutsch';
                    secondLangHeader.textContent = 'Englisch';
                    populateVocabList(searchInput.value.toLowerCase());
                }
            });
        }

        // Populate vocabulary list for study mode
        function populateVocabList(searchTerm = '') {
            if (!currentVocabSet) return;
            
            vocabListBody.innerHTML = '';
            
            // Filter vocabulary based on search term if provided
            const filteredVocab = currentVocabSet.vocabularyData.filter(item => {
                const englishLower = item.english.toLowerCase();
                const germanLower = item.german.toLowerCase();
                return englishLower.includes(searchTerm) || germanLower.includes(searchTerm) || searchTerm === '';
            });
            
            filteredVocab.forEach(item => {
                const row = document.createElement('tr');
                
                const emojiCell = document.createElement('td');
                emojiCell.className = 'emoji-cell';
                emojiCell.textContent = item.emoji;
                
                const firstLangCell = document.createElement('td');
                firstLangCell.textContent = studyEnglishToGerman ? item.english : item.german;
                
                const secondLangCell = document.createElement('td');
                secondLangCell.textContent = studyEnglishToGerman ? item.german : item.english;
                
                row.appendChild(emojiCell);
                row.appendChild(firstLangCell);
                row.appendChild(secondLangCell);
                
                vocabListBody.appendChild(row);
            });
        }

        // Initialize test mode
        function initTestMode() {
            // Event listeners for test mode
            checkButton.addEventListener('click', checkAnswers);
            resetButton.addEventListener('click', resetQuiz);
            toggleButton.addEventListener('click', toggleMode);
        }

        // Function to create quiz items
        function createQuiz() {
            if (!currentVocabSet) return;
            
            quizContainer.innerHTML = '';
            
            // Shuffle vocabulary items
            const shuffledVocab = [...currentVocabSet.vocabularyData].sort(() => Math.random() - 0.5);
            
            shuffledVocab.forEach((item, index) => {
                const vocabItem = document.createElement('div');
                vocabItem.className = 'vocab-item';
                
                const question = document.createElement('div');
                question.className = 'vocab-question';
                
                const emoji = document.createElement('span');
                emoji.className = 'emoji';
                emoji.textContent = item.emoji;
                
                const wordToTranslate = document.createElement('span');
                wordToTranslate.textContent = englishToGerman ? item.english : item.german;
                
                const input = document.createElement('input');
                input.type = 'text';
                input.id = `answer-${index}`;
                input.placeholder = englishToGerman ? 'Deutsche Übersetzung...' : 'English translation...';
                input.dataset.correct = englishToGerman ? item.german : item.english;
                
                const feedback = document.createElement('div');
                feedback.className = 'feedback';
                feedback.id = `feedback-${index}`;
                
                question.appendChild(emoji);
                question.appendChild(wordToTranslate);
                
                vocabItem.appendChild(question);
                vocabItem.appendChild(input);
                vocabItem.appendChild(feedback);
                
                quizContainer.appendChild(vocabItem);
            });
            
            resultsDiv.style.display = 'none';
        }

        // Function to check answers
        function checkAnswers() {
            let correct = 0;
            const inputs = document.querySelectorAll('#quiz input[type="text"]');
            
            inputs.forEach(input => {
                const feedbackId = input.id.replace('answer', 'feedback');
                const feedbackElement = document.getElementById(feedbackId);
                
                // Get correct answer and user's answer
                const correctAnswer = input.dataset.correct.toLowerCase();
                const userAnswer = input.value.trim().toLowerCase();
                
                // Check if answer is correct
                if (userAnswer === correctAnswer) {
                    feedbackElement.textContent = '✓ Richtig!';
                    feedbackElement.className = 'feedback';
                    correct++;
                } else {
                    feedbackElement.textContent = `✗ Falsch. Richtige Antwort: ${input.dataset.correct}`;
                    feedbackElement.className = 'feedback wrong';
                }
            });
            
            // Display results
            scoreDisplay.textContent = `${correct}/${inputs.length}`;
            resultsDiv.style.display = 'block';
        }

        // Function to reset the quiz
        function resetQuiz() {
            const inputs = document.querySelectorAll('#quiz input[type="text"]');
            const feedbacks = document.querySelectorAll('#quiz .feedback');
            
            inputs.forEach(input => {
                input.value = '';
            });
            
            feedbacks.forEach(feedback => {
                feedback.textContent = '';
            });
            
            resultsDiv.style.display = 'none';
        }

        // Function to toggle quiz direction
        function toggleMode() {
            englishToGerman = !englishToGerman;
            modeIndicator.textContent = englishToGerman ? 
                'Modus: Englisch → Deutsch' : 
                'Modus: Deutsch → Englisch';
            createQuiz();
        }

        // Initialize application
        initVocabBoxes();
        initStudyMode();
        initTestMode();
    </script>
</body>
</html>