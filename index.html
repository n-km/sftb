<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stronghold Fighter (Textbasiert)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body id="BD">
  <div class="container">
    <h1>ğŸ° Stronghold Fighter (Textbasiert) ğŸ°</h1> <h5><a href="wiki.html" target="_blank">ğŸ“– WIKI</a></h5>
    
    <div class="resources">
      <p><strong>ğŸ’° Gold:</strong> <span id="gold">100</span></p>
      <p><strong>ğŸ Nahrung:</strong> <span id="food">50</span></p>
      <p><strong>ğŸªµ Holz:</strong> <span id="wood">30</span></p>
      <p><strong>ğŸ›¡ï¸ Verteidigungsbonus:</strong> <span id="defenseBonus">0</span></p>
    </div>
    
    <h2>ğŸ›¡ï¸ Truppen</h2>
    <div class="troops">
      <p>ğŸ¹ BogenschÃ¼tzen: <span id="archers">0</span></p>
      <p>âš”ï¸ SchwertkÃ¤mpfer: <span id="swordsmen">0</span></p>
      <p>ğŸ›¡ï¸ LanzenkÃ¤mpfer: <span id="spearmen">0</span></p>
      <p>ğŸ Ritter: <span id="knights">0</span></p>
      <p>ğŸ› ï¸ Katapulte: <span id="catapults">0</span></p>
      <p>ğŸª“ HolzfÃ¤ller: <span id="woodcutters">0</span> (L: <span id="woodcutterLevel">1</span>)</p>
      <p>ğŸ Apfelsammler: <span id="appleGatherers">0</span> (L: <span id="appleGathererLevel">1</span>)</p>
    </div>
    
    <!-- Tab-Navigation -->
    <div class="tab-buttons">
      <button class="tab-button active" onclick="showTab('combat', this)">âš”ï¸ Kampftruppen</button>
      <button class="tab-button" onclick="showTab('resources', this)">ğŸ› ï¸ Ressourcen & Upgrades</button>
      <button class="tab-button" onclick="showTab('special', this)">âœ¨ Spezialaktionen</button>
    </div>
    
    <!-- Tab-Inhalte -->
    <div id="combat" class="tab-content active">
      <div class="actions">
        <button onclick="kaufeBogenschuetze()">ğŸ¹ BogenschÃ¼tze (-50ğŸ’°, -5ğŸ)</button>
        <button onclick="kaufeSchwertkaempfer()">âš”ï¸ SchwertkÃ¤mpfer (-75ğŸ’°, -10ğŸ)</button>
        <button onclick="kaufeLanzenkaempfer()">ğŸ›¡ï¸ LanzenkÃ¤mpfer (-30ğŸ’°, -5ğŸ)</button>
        <button onclick="kaufeRitter()">ğŸ Ritter (-150ğŸ’°, -20ğŸ)</button>
        <button onclick="kaufeKatapult()">ğŸ› ï¸ Katapult (-200ğŸ’°, -50ğŸªµ)</button>
      </div>
    </div>
    
    <div id="resources" class="tab-content">
      <div class="actions">
        <button onclick="kaufeHolzfaehler()">ğŸª“ HolzfÃ¤ller (-40ğŸ’°, -5ğŸ)</button>
        <button onclick="upgradeHolzfaehler()">ğŸ”§ HolzfÃ¤ller upgradieren</button>
        <button onclick="kaufeApfelsammler()">ğŸ Apfelsammler (-40ğŸ’°, -5ğŸªµ)</button>
        <button onclick="upgradeApfelsammler()">ğŸ”§ Apfelsammler upgradieren</button>
      </div>
    </div>
    
    <div id="special" class="tab-content">
      <div class="actions">
        <button onclick="sammleRessourcen()">ğŸ› ï¸ Ressourcen sammeln (+20ğŸ’°, +10ğŸ, +5ğŸªµ)</button>
        <button onclick="handel()">ğŸ’± Handel: 20ğŸ gegen 40ğŸ’°</button>
        <button onclick="burgVerstaerken()">ğŸ° Burg verstÃ¤rken (-50ğŸ’°, -30ğŸªµ)</button>
        <button onclick="spionage()">ğŸ•µï¸ Spionage</button>
        <button onclick="training()">ğŸ’ª Training (-50ğŸ’°)</button>
        <button onclick="angriff()">âš”ï¸ Angriff starten</button>
      </div>
    </div>
    
    <!-- Timer-Anzeige -->
    <p id="timer">NÃ¤chste Ernte in: 10 Sekunden</p>
    
    <h2>ğŸ“œ Ereignisse</h2>
    <div id="log">
      <p>Willkommen, mein Lord!</p>
    </div>
    
    <!-- Kommando-Eingabe -->
    <div id="commandContainer">
      <input type="text" id="commandInput" placeholder="Geben Sie Ihren Befehl ein..." />
      <button onclick="submitCommand()">Senden</button>
    </div>
  </div>
  
  <script>
    // Ressourcen, Truppen, Boni & Level
    let gold = 100, food = 50, wood = 30;
    let archers = 0, swordsmen = 0, spearmen = 0, knights = 0, catapults = 0;
    let woodcutters = 0, appleGatherers = 0;
    let woodcutterLevel = 1, appleGathererLevel = 1;
    let defenseBonus = 0, attackBonus = 0;
    
    function updateUI() {
      document.getElementById("gold").innerText = gold;
      document.getElementById("food").innerText = food;
      document.getElementById("wood").innerText = wood;
      document.getElementById("archers").innerText = archers;
      document.getElementById("swordsmen").innerText = swordsmen;
      document.getElementById("spearmen").innerText = spearmen;
      document.getElementById("knights").innerText = knights;
      document.getElementById("catapults").innerText = catapults;
      document.getElementById("woodcutters").innerText = woodcutters;
      document.getElementById("woodcutterLevel").innerText = woodcutterLevel;
      document.getElementById("appleGatherers").innerText = appleGatherers;
      document.getElementById("appleGathererLevel").innerText = appleGathererLevel;
      document.getElementById("defenseBonus").innerText = defenseBonus;
    }
    
    function logMessage(message) {
      const logDiv = document.getElementById("log");
      const time = new Date().toLocaleTimeString();
      logDiv.innerHTML += `<p>[${time}] ${message}</p>`;
      logDiv.scrollTop = logDiv.scrollHeight;
    }
    
    // Manuelle Aktionen
    function sammleRessourcen() {
      gold += 20; food += 10; wood += 5;
      updateUI();
      logMessage("Ressourcen gesammelt: +20ğŸ’°, +10ğŸ, +5ğŸªµ.");
    }
    
    // Rekrutierung Kampftruppen
    function kaufeBogenschuetze() {
      if (gold >= 50 && food >= 5) { gold -= 50; food -= 5; archers++;
        updateUI(); logMessage("ğŸ¹ BogenschÃ¼tze rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen BogenschÃ¼tzen."); }
    }
    function kaufeSchwertkaempfer() {
      if (gold >= 75 && food >= 10) { gold -= 75; food -= 10; swordsmen++;
        updateUI(); logMessage("âš”ï¸ SchwertkÃ¤mpfer rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen SchwertkÃ¤mpfer."); }
    }
    function kaufeLanzenkaempfer() {
      if (gold >= 30 && food >= 5) { gold -= 30; food -= 5; spearmen++;
        updateUI(); logMessage("ğŸ›¡ï¸ LanzenkÃ¤mpfer rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen LanzenkÃ¤mpfer."); }
    }
    function kaufeRitter() {
      if (gold >= 150 && food >= 20) { gold -= 150; food -= 20; knights++;
        updateUI(); logMessage("ğŸ Ritter rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen Ritter."); }
    }
    function kaufeKatapult() {
      if (gold >= 200 && wood >= 50) { gold -= 200; wood -= 50; catapults++;
        updateUI(); logMessage("ğŸ› ï¸ Katapult gebaut!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r ein Katapult."); }
    }
    
    // Ressourcentruppen & Upgrades
    function kaufeHolzfaehler() {
      if (gold >= 40 && food >= 5) { gold -= 40; food -= 5; woodcutters++;
        updateUI(); logMessage("ğŸª“ HolzfÃ¤ller rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen HolzfÃ¤ller."); }
    }
    function upgradeHolzfaehler() {
      let costGold = 50 * woodcutterLevel, costFood = 10 * woodcutterLevel;
      if (gold >= costGold && food >= costFood) { gold -= costGold; food -= costFood; woodcutterLevel++;
        updateUI(); logMessage("ğŸª“ HolzfÃ¤ller aufgewertet! Neuer Ertrag: " + (5 * woodcutterLevel) + "ğŸªµ pro HolzfÃ¤ller.");
      } else { logMessage("Nicht genug Ressourcen, um HolzfÃ¤ller aufzuwerten."); }
    }
    function kaufeApfelsammler() {
      if (gold >= 40 && wood >= 5) { gold -= 40; wood -= 5; appleGatherers++;
        updateUI(); logMessage("ğŸ Apfelsammler rekrutiert!");
      } else { logMessage("Nicht genug Ressourcen fÃ¼r einen Apfelsammler."); }
    }
    function upgradeApfelsammler() {
      let costGold = 50 * appleGathererLevel, costWood = 10 * appleGathererLevel;
      if (gold >= costGold && wood >= costWood) { gold -= costGold; wood -= costWood; appleGathererLevel++;
        updateUI(); logMessage("ğŸ Apfelsammler aufgewertet! Neuer Ertrag: " + (5 * appleGathererLevel) + "ğŸ pro Apfelsammler.");
      } else { logMessage("Nicht genug Ressourcen, um Apfelsammler aufzuwerten."); }
    }
    
    // Spezialaktionen
    function handel() {
      if (food >= 20) { food -= 20; gold += 40;
        updateUI(); logMessage("ğŸ’± Handel: 20ğŸ wurden gegen 40ğŸ’° getauscht.");
      } else { logMessage("Nicht genug Nahrung fÃ¼r den Handel."); }
    }
    function burgVerstaerken() {
      if (gold >= 50 && wood >= 30) { gold -= 50; wood -= 30; defenseBonus += 2;
        updateUI(); logMessage("ğŸ° Burg verstÃ¤rkt! Verteidigungsbonus +2.");
      } else { logMessage("Nicht genug Ressourcen, um die Burg zu verstÃ¤rken."); }
    }
    function spionage() {
      let enemyIntel = Math.floor(Math.random() * 11) + 5;
      logMessage("ğŸ•µï¸ Spionage: GegnerstÃ¤rke ca. " + enemyIntel + ".");
    }
    function training() {
      if (gold >= 50) { gold -= 50; attackBonus = 5;
        updateUI(); logMessage("ğŸ’ª Training abgeschlossen: Angriff Bonus +5.");
      } else { logMessage("Nicht genug Gold fÃ¼r das Training."); }
    }
    
    // Angriff inkl. Truppenverluste
    function angriff() {
      logMessage("âš”ï¸ Angriff gestartet!");
      let enemyStrength = Math.floor(Math.random() * 10) + 5;
      let playerStrength = (archers * 3) + (swordsmen * 5) + (spearmen * 4) + (knights * 7) + (catapults * 10) + attackBonus + defenseBonus;
      
      if (playerStrength >= enemyStrength) {
        gold += 50; food += 20;
        logMessage("Sieg! Deine Truppen haben den Feind besiegt.");
        let archersLost = Math.ceil(archers * 0.1);
        let swordsmenLost = Math.ceil(swordsmen * 0.1);
        let spearmenLost = Math.ceil(spearmen * 0.1);
        let knightsLost = Math.ceil(knights * 0.1);
        let catapultsLost = Math.ceil(catapults * 0.1);
        archers = Math.max(archers - archersLost, 0);
        swordsmen = Math.max(swordsmen - swordsmenLost, 0);
        spearmen = Math.max(spearmen - spearmenLost, 0);
        knights = Math.max(knights - knightsLost, 0);
        catapults = Math.max(catapults - catapultsLost, 0);
        logMessage("Verluste: " +
          (archersLost ? archersLost + " BogenschÃ¼tzen, " : "") +
          (swordsmenLost ? swordsmenLost + " SchwertkÃ¤mpfer, " : "") +
          (spearmenLost ? spearmenLost + " LanzenkÃ¤mpfer, " : "") +
          (knightsLost ? knightsLost + " Ritter, " : "") +
          (catapultsLost ? catapultsLost + " Katapulte" : "")
        );
      } else {
        logMessage("Niederlage! Deine Armee wurde zurÃ¼ckgeschlagen.");
        let archersLost = Math.ceil(archers * 0.3);
        let swordsmenLost = Math.ceil(swordsmen * 0.3);
        let spearmenLost = Math.ceil(spearmen * 0.3);
        let knightsLost = Math.ceil(knights * 0.3);
        let catapultsLost = Math.ceil(catapults * 0.3);
        archers = Math.max(archers - archersLost, 0);
        swordsmen = Math.max(swordsmen - swordsmenLost, 0);
        spearmen = Math.max(spearmen - spearmenLost, 0);
        knights = Math.max(knights - knightsLost, 0);
        catapults = Math.max(catapults - catapultsLost, 0);
        logMessage("Verluste: " +
          (archersLost ? archersLost + " BogenschÃ¼tzen, " : "") +
          (swordsmenLost ? swordsmenLost + " SchwertkÃ¤mpfer, " : "") +
          (spearmenLost ? spearmenLost + " LanzenkÃ¤mpfer, " : "") +
          (knightsLost ? knightsLost + " Ritter, " : "") +
          (catapultsLost ? catapultsLost + " Katapulte" : "")
        );
      }
      attackBonus = 0;
      updateUI();
    }
    
    // Automatischer Ressourcenzyklus (alle 10 Sekunden)
    function resourceCycle() {
      let woodGained = woodcutters * 5 * woodcutterLevel;
      let foodGained = appleGatherers * 5 * appleGathererLevel;
      wood += woodGained; food += foodGained;
      updateUI();
      logMessage("Sammlung: HolzfÃ¤ller sammelten " + woodGained + "ğŸªµ, Apfelsammler " + foodGained + "ğŸ.");
    }
    
    // Timer (10-Sekunden-Zyklus)
    let countdown = 10;
    setInterval(function() {
      countdown--;
      document.getElementById("timer").innerText = "NÃ¤chste Ernte in: " + countdown + " Sekunden";
      if (countdown <= 0) { resourceCycle(); countdown = 10; }
    }, 1000);
    
    // Tab-Navigation
    function showTab(tabName, btn) {
      let tabs = document.getElementsByClassName("tab-content");
      for (let i = 0; i < tabs.length; i++) { tabs[i].classList.remove("active"); }
      document.getElementById(tabName).classList.add("active");
      let buttons = document.getElementsByClassName("tab-button");
      for (let i = 0; i < buttons.length; i++) { buttons[i].classList.remove("active"); }
      btn.classList.add("active");
    }
    
    // Kommando-Verarbeitung
    function submitCommand() {
      let cmd = document.getElementById("commandInput").value;
      if (cmd.trim() !== "") {
        logMessage("Befehl eingegeben: " + cmd);
        processCommand(cmd);
        document.getElementById("commandInput").value = "";
      }
    }
    
    function processCommand(command) {
      command = command.toLowerCase().trim();
      if (command === "help") {
        logMessage("VerfÃ¼gbare Befehle: rekrut bogenschuetze, rekrut schwertkaempfer, rekrut lanzenkaempfer, rekrut ritter, rekrut katapult, rekrut holzfaehler, upgrade holzfaehler, rekrut apfelsammler, upgrade apfelsammler, sammle ressourcen, handel, burg verstÃ¤rken, spionage, training, angriff");
        return;
      }
      if (command === "rekrut bogenschuetze") { kaufeBogenschuetze(); return; }
      if (command === "rekrut schwertkaempfer") { kaufeSchwertkaempfer(); return; }
      if (command === "rekrut lanzenkaempfer") { kaufeLanzenkaempfer(); return; }
      if (command === "rekrut ritter") { kaufeRitter(); return; }
      if (command === "rekrut katapult") { kaufeKatapult(); return; }
      if (command === "rekrut holzfaehler" || command === "rekrut holzfÃ¤ller") { kaufeHolzfaehler(); return; }
      if (command === "upgrade holzfaehler" || command === "upgrade holzfÃ¤ller") { upgradeHolzfaehler(); return; }
      if (command === "rekrut apfelsammler") { kaufeApfelsammler(); return; }
      if (command === "upgrade apfelsammler") { upgradeApfelsammler(); return; }
      if (command === "sammle ressourcen") { sammleRessourcen(); return; }
      if (command === "handel") { handel(); return; }
      if (command === "burg verstÃ¤rken" || command === "burg verstaerken") { burgVerstaerken(); return; }
      if (command === "spionage") { spionage(); return; }
      if (command === "training") { training(); return; }
      if (command === "angriff") { angriff(); return; }
      logMessage("Unbekannter Befehl: " + command);
    }
    
    // Enter-Taste im Eingabefeld abfangen
    document.getElementById("commandInput").addEventListener("keydown", function(event) {
      if (event.key === "Enter") { submitCommand(); }
    });
    
    updateUI();
  </script>
</body>
</html>
